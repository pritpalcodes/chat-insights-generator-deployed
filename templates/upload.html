<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Analysis - Upload</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/upload.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Text:ital@0;1&display=swap" rel="stylesheet">
</head>
<body>
    <div class="upload-container">
        <div class="left-section">
            <div class="image-wrapper">
                <img src="{{ url_for('static', filename='images/chat_chart_example.jpeg') }}" alt="Chat Chart Example" class="chart-image">
            </div>
        </div>
        <div class="right-section">
            <h1>Upload Your Chat</h1>
            <form action="{{ url_for('upload') }}" method="POST" enctype="multipart/form-data">
                <div class="button-container">
                    <button type="button" id="upload-btn" class="btn">Upload</button>
                    <button type="submit" class="btn">Analyze</button>
                </div>
                <span id="file-name">No file chosen</span>
                <input type="file" name="chat_file" accept=".txt" id="chat_file" style="display: none;">
            </form>
            
            <div class="features">
                <img src="{{ url_for('static', filename='images/features.jpeg') }}" alt="Features" class="features-image">
            </div>

            <div class="faq-section">
                <div class="faq-item">
                    <h3>Shipping & delivery<span class="toggle-icon">+</span></h3>
                    <div class="faq-content">
                        <!-- Shipping content -->
                    </div>
                </div>
                <div class="faq-item">
                    <h3>Product details<span class="toggle-icon">+</span></h3>
                    <div class="faq-content">
                        <!-- Product details content -->
                    </div>
                </div>
                <div class="faq-item">
                    <h3>Refund policy<span class="toggle-icon">+</span></h3>
                    <div class="faq-content">
                        <!-- Refund policy content -->
                    </div>
                </div>
            </div>

            <div class="back-button-wrapper">
                <a href="{{ url_for('landing') }}" class="back-button">Back to Home</a>
            </div>
        </div>
    </div>
    <script>
        const fileInput = document.getElementById('chat_file');
        const fileName = document.getElementById('file-name');
        const uploadBtn = document.getElementById('upload-btn');

        uploadBtn.addEventListener('click', function() {
            fileInput.click();
        });

        fileInput.addEventListener('change', function(e) {
            if (this.files[0]) {
                fileName.textContent = this.files[0].name;
                uploadBtn.textContent = 'Change File';
            } else {
                fileName.textContent = 'No file chosen';
                uploadBtn.textContent = 'Upload';
            }
        });

        // Add JavaScript to toggle FAQ items
        document.querySelectorAll('.faq-item h3').forEach(item => {
            item.addEventListener('click', event => {
                event.currentTarget.parentElement.classList.toggle('active');
            });
        });
    </script>
</body>
</html>